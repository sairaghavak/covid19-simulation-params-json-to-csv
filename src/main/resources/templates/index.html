<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Covid19 Simulation Params Json to CSV formatter</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel="stylesheet" th:href="@{/bootstrap-4.4.1-dist/css/bootstrap.min.css}" />
</head>

<body class="">
  <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <header class="masthead mb-auto">
      <div class="inner">
        <h3 class="masthead-brand text-center">Covid19 Params JSON to CSV Converter</h3>
        <nav class="nav nav-masthead justify-content-center">
        </nav>
      </div>
    </header>

    <main role="main" class="align-items-center d-flex w-100 h-100 p-3 mx-auto flex-column">
      <div class=" jumbotron border border-primary col-sm-5">
        <div class="container">
          <form method="post" th:action="@{/uploadjson}" enctype="multipart/form-data">
            <div class="row">
              <div class="col-sm">
                <input type="file" name="inputFile" class="form-control-file">
              </div>
            </div>
            <div class="row mt-3 mb-3"></div>
            <div class="row">
              <div class="col-sm">
                <button type="submit" class="btn btn-sm btn-secondary">Upload Json</button>
              </div>
            </div>
            <div class="row mt-3 mb-3"></div>
            <div class="row col-lg-auto" style="line-height: 1px;">
              <p th:text="${serverUpdate}" th:if="${serverUpdate ne null}" class="alert"
                th:classappend="${isError} ? alert-danger : alert-success"
                th:style="${serverUpdate ne null ? 'display:block' : 'display:none'}">
              </p>
            </div>
          </form>
        </div>
        <div class="container" th:if="${isError ne null && !isError}">
          <form method="post" th:action="@{/downloadcsv}">
            <div class="row mt-1 mb-1"></div>
            <div class="row">
              <div class="col-sm">
                <input type="hidden" name="csv" th:value="${csvFile}">
                <button type="submit" class="btn btn-sm btn-secondary">Download CSV</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </main>

    <footer class="footer mastfoot mt-auto">
      <div class="inner text-center">
        <p><b>For any queries reach out to ksairaghava1@gmail.com</b></p>
      </div>
    </footer>

  </div>
  <script th:src="@{/jquery-3.5.0.min.js}"></script>
  <script th:src="@{/popper.min.js}"></script>
  <script th:src="@{/bootstrap-4.4.1-dist/js/bootstrap.min.js}"></script>
</body>

</html>